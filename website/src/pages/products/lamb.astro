---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProductCard from '../../components/ProductCard.astro';
import productsData from '../../data/products.json';
import { Image } from 'astro:assets';
import lambCategoryImg from '../../assets/images/lamb-category.png';

// SEO & Schema
const pageTitle = "בשר טלה וכבש טרי ברמת גן | רוני טסה - קצביית בוטיק";
const pageDescription = "צלעות טלה, כתף טלה, וקבב כבש משובח. בשר טלה איכותי וטרי יום יום בקצביית הבוטיק של רוני טסה. מושלם לעל האש ולתבשילי קדירה. משלוחים לרמת גן והסביבה.";

const category = productsData.categories.find(cat => cat.slug === 'lamb');
const lambProducts = category?.products || [];

const productSchema = lambProducts.map(product => ({
  "@context": "https://schema.org",
  "@type": "Product",
  "name": product.name,
  "description": product.description,
  "image": new URL(product.image, "https://tassa-butchershop.co.il").href,
  "sku": product.id,
  "brand": {
    "@type": "Brand",
    "name": "רוני טסה"
  },
  "offers": {
    "@type": "Offer",
    "url": `https://tassa-butchershop.co.il/products/lamb#${product.id}`,
    "priceCurrency": "ILS",
    "price": product.price.replace(/\D+(\d+).*/, '$1'), // Extract numeric price roughly
    "availability": "https://schema.org/InStock",
    "itemCondition": "https://schema.org/NewCondition"
  }
}));
---

<BaseLayout title={pageTitle} description={pageDescription} schema={productSchema}>
  <!-- Hero Section -->
  <section class="relative h-[60vh] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
      <Image 
        src={lambCategoryImg} 
        alt="בשר טלה איכותי" 
        class="w-full h-full object-cover object-center"
        quality="high"
        loading="eager"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/50 to-neutral-950"></div>
    </div>
    
    <div class="relative z-10 text-center text-white px-4 max-w-4xl mx-auto" data-aos="fade-up">
      <h1 class="text-5xl md:text-7xl font-bold mb-6 tracking-tight">
        <span class="block text-primary-red drop-shadow-lg mb-2">כבש וטלה משובח</span>
        <span class="block text-3xl md:text-5xl font-light text-gray-200">טעם עשיר ומיוחד</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-300 font-light max-w-2xl mx-auto leading-relaxed">
        נתחים נבחרים של כבש וטלה טרי, המצטיינים ברכות ובעסיסיות יוצאת דופן.
      </p>
    </div>
  </section>

  <!-- Intro Section -->
  <section class="py-20 bg-neutral-950 text-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <div class="w-24 h-1 bg-primary-red mx-auto rounded-full mb-8"></div>
        <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent">חווית בשר יוצאת דופן</h2>
        <div class="text-lg text-gray-400 leading-relaxed space-y-6 font-light">
          <p>
            בשר כבש וטלה הוא אחד הבשרים המוערכים והעתיקים במטבח הישראלי והמזרח-תיכוני.
            הטעם העשיר והמיוחד שלו הופך אותו למושלם לשיפודים, צלייה על האש, או בישול איטי.
          </p>
          <p>
            אנו בוחרים בקפידה כבשים וטלאים צעירים הגדלים בתנאים מעולים, המבטיחים בשר עדין, רך וטעים במיוחד.
            כל נתח עובר קיצוב מקצועי וניקוי יסודי כדי להבטיח לכם את התוצאה המושלמת בצלחת.
          </p>
        </div>
      </div>
    </div>
  </section>



  <!-- Products Grid -->
  <section class="py-24 bg-neutral-950">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">הנתחים שלנו</h2>
        <div class="w-24 h-1 bg-primary-red mx-auto rounded-full"></div>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 max-w-7xl mx-auto">
        {lambProducts.map((product) => (
          <ProductCard product={product} />
        ))}
      </div>

      <div class="text-center mt-20">
        <div class="inline-block p-8 rounded-2xl bg-neutral-900 border border-white/10 max-w-3xl">
          <p class="text-xl text-gray-300 mb-6 font-light">
            מתכננים אירוח מיוחד? נשמח להכין עבורכם את הכמות המדויקת ולייעץ על אופן ההכנה.
          </p>
          <div class="flex flex-wrap justify-center gap-4">
            <a href="/#contact" class="btn btn-primary text-lg px-8 py-3 shadow-lg shadow-red-900/20">
              התייעצו עם הקצב שלנו והזמינו בשר כבש
            </a>
            <a href="/products/beef" class="btn btn-outline border-white/20 text-white hover:bg-white/10 text-lg px-8 py-3">
              עברו לצפייה במבחר בשר בקר מיושן
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cooking Tips -->
  <section class="py-24 bg-neutral-900 relative">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold mb-16 text-center text-white">
        טיפים להכנת <span class="text-primary-red">כבש וטלה מושלם</span>
      </h2>

      <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
        <div class="bg-white/5 p-8 rounded-2xl border border-white/5 flex gap-6 items-start hover:bg-white/10 transition-colors">
          <div class="flex-shrink-0 w-12 h-12 bg-primary-red rounded-full flex items-center justify-center text-xl text-white font-bold">1</div>
          <div>
            <h4 class="font-bold text-xl text-accent mb-3">תיבול עשיר</h4>
            <p class="text-gray-400 leading-relaxed">
              כבש וטלה אוהבים תבלינים חזקים. שום, רוזמרין, זעתר, מנטה ושמן זית משתלבים איתם בצורה מושלמת ומחמיאים לטעמם.
            </p>
          </div>
        </div>

        <div class="bg-white/5 p-8 rounded-2xl border border-white/5 flex gap-6 items-start hover:bg-white/10 transition-colors">
          <div class="flex-shrink-0 w-12 h-12 bg-primary-red rounded-full flex items-center justify-center text-xl text-white font-bold">2</div>
          <div>
            <h4 class="font-bold text-xl text-accent mb-3">צלייה בחום גבוה</h4>
            <p class="text-gray-400 leading-relaxed">
              לשיפודים וצלעות - צריבה קצרה בחום גבוה מאוד תשמור על העסיסיות בפנים ותיצור מעטה פריך וטעים בחוץ.
            </p>
          </div>
        </div>

        <div class="bg-white/5 p-8 rounded-2xl border border-white/5 flex gap-6 items-start hover:bg-white/10 transition-colors">
          <div class="flex-shrink-0 w-12 h-12 bg-primary-red rounded-full flex items-center justify-center text-xl text-white font-bold">3</div>
          <div>
            <h4 class="font-bold text-xl text-accent mb-3">בישול איטי וסבלני</h4>
            <p class="text-gray-400 leading-relaxed">
              נתחים כמו כתף וצוואר מתאימים לבישול ארוך ואיטי בנוזלים. הבשר מתרכך, נפרד מהעצם וסופג את כל הטעמים.
            </p>
          </div>
        </div>

        <div class="bg-white/5 p-8 rounded-2xl border border-white/5 flex gap-6 items-start hover:bg-white/10 transition-colors">
          <div class="flex-shrink-0 w-12 h-12 bg-primary-red rounded-full flex items-center justify-center text-xl text-white font-bold">4</div>
          <div>
            <h4 class="font-bold text-xl text-accent mb-3">מרינדה חומצית</h4>
            <p class="text-gray-400 leading-relaxed">
              הוספת מרכיב חומצי למרינדה (כמו יין אדום, לימון או חומץ בלסמי) מסייעת ריכוך הבשר ומאזנת את השומניות.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
